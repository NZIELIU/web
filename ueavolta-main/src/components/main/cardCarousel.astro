---
import Mechanic from "@/icons/speciality/mechanic.astro";
import Electronic from "@/icons/speciality/electronics.astro";
import Informatic from "@/icons/speciality/informatic.astro";
import General from "@/icons/speciality/generalSciences.astro";
import Electricity from "@/icons/speciality/Electricity.astro";
import Sell from "@/icons/speciality/Sell.astro";

const TAGS = {
    ELECTRONIC: {
        class: "text-[#1A52E6]",
        icon: Electronic,
    },
    MECHANIC: {
        class: "text-[#1A52E6]",
        icon: Mechanic,
    },
    INFORMATIC: {
        class: "text-[#1A52E6]",
        icon: Informatic,
    },
    GENERAL: {
        class: "text-[#1A52E6]",
        icon: General,
    },
    ELECTRICITY: {
        class: "text-[#1A52E6]",
        icon: Electricity,
    },
    SELL: {
        class: "text-[#1A52E6]",
        icon: Sell,
    },
};

const SPECIALITY = [
    {
        title: "Electricidad",
        icon: [TAGS.ELECTRICITY],
        content:
            "Instalar y mantener sistemas eléctricos, incluyendo cableado, iluminación y maquinaria, cumpliendo con los estándares de calidad, seguridad y normativas ambientales .",
    },
    {
        title: "Electromecánica Automotriz",
        icon: [TAGS.MECHANIC],
        content:
            "Realizar la instalación y mantenimiento de sistemas electrónicos automotrices, incluyendo diagnóstico, control, inyección y encendido, cumpliendo con los estándares.",
    },
    {
        title: "Electrónica",
        icon: [TAGS.ELECTRONIC],
        content:
            "Realizar la instalación y mantenimiento de sistemas electrónicos, abarcando dispositivos de control, comunicación y automatización, cumpliendo con estándares de .",
    },
    {
        title: "Informática",
        icon: [TAGS.INFORMATIC],
        content:
            "Optimizar el tratamiento de la información mediante el procesamiento automático, utilizando lenguajes de programación, bases de datos, herramientas ofimáticas, redes .",
    },
    {
        title: "Comercialización y Ventas",
        icon: [TAGS.SELL],
        content:
            "Ejecutar operaciones de almacenamiento y expedición de mercaderías, desarrollo del proceso de venta de productos y/o servicios y la aplicación de técnicas de animación .",
    },
    {
        title: "Ciencias Generales",
        icon: [TAGS.GENERAL],
        content:
            "Ofrece una formación en áreas científico-humanísticas, mediante las asignaturas del tronco común, y podrán tener componentes y menciones específicas y especializadas. ",
    },
];
---
<style>
    .carousel-container {
        scroll-behavior: smooth;
        -ms-overflow-style: none; 
        scrollbar-width: none; 
    }
    .carousel-container::-webkit-scrollbar {
        display: none; 
    }
    .feature-card {
        transition: transform 0.3s ease-in-out;
        flex: 0 0 auto; 
        width: 80%; 
        max-width: 300px; 
    }
    .feature-card:hover {
        transform: scale(1.05);
    }
    .carousel-button {
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(5px);
        transition: background-color 0.3s;
    }
    .carousel-button:hover {
        background-color: rgba(0, 0, 0, 0.8);
    }
</style>

<div class="relative w-full max-w-6xl mx-auto overflow-hidden">
    <button
        id="prevButton"
        aria-label="Previous"
        class="carousel-button absolute left-0 top-1/2 transform -translate-y-1/2 p-2 rounded-full shadow-lg z-10 ml-2"
    >
        <svg
            class="w-6 h-6 text-white"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"></path>
        </svg>
    </button>

    <div id="carousel" class="carousel-container flex space-x-4 overflow-hidden scroll-smooth w-full px-2 sm:px-6 lg:px-10">
        {
            SPECIALITY.map(({ title, icon, content }) => (
                <div class="feature-card bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 p-4">
                    {icon.map((tag) => (
                        <tag.icon class="mb-4 w-10 h-10 my-2" />
                    ))}
                    <div class="p-4">
                        <h3 class="text-xl mb-2 font-medium text-black">{title}</h3>
                        <p class="font-normal text-gray-700">{content}</p>
                    </div>
                </div>
            ))
        }
    </div>

    <button
        id="nextButton"
        aria-label="Next"
        class="carousel-button absolute right-0 top-1/2 transform -translate-y-1/2 p-2 rounded-full shadow-lg z-10 mr-2"
    >
        <svg
            class="w-6 h-6 text-white"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"></path>
        </svg>
    </button>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const prevButton = document.getElementById("prevButton");
        const nextButton = document.getElementById("nextButton");
        const carouselContainer = document.getElementById("carousel");

        prevButton.addEventListener("click", () => {
            carouselContainer.scrollLeft -= 200; // Adjust width of cards
            if (carouselContainer.scrollLeft <= 0) {
                carouselContainer.scrollLeft = carouselContainer.scrollWidth;
            }
        });

        nextButton.addEventListener("click", () => {
            carouselContainer.scrollLeft += 200; // Adjust width of cards
            if (carouselContainer.scrollLeft >= carouselContainer.scrollWidth - carouselContainer.clientWidth) {
                carouselContainer.scrollLeft = 0;
            }
        });

        // Swipe functionality
        let startX, scrollLeft;

        carouselContainer.addEventListener("touchstart", (e) => {
            startX = e.touches[0].pageX;
            scrollLeft = carouselContainer.scrollLeft;
        });

        carouselContainer.addEventListener("touchmove", (e) => {
            const x = e.touches[0].pageX;
            const walk = x - startX;
            carouselContainer.scrollLeft = scrollLeft - walk;
        });
    });
</script>
